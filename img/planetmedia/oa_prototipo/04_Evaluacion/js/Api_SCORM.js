function parametroXml(e){e>0&&(Puntaje_default_xml=e)}function Mostrar_errorAPI(e){}function Busca_API(e){for(;null==e.API&&null!=e.parent&&e.parent!=e;){if(Intentos_busquedaAPI++,Intentos_busquedaAPI>500)return Mostrar_errorAPI(API_noExiste),null;e=e.parent}return e.API}function API_existe(){return"undefined"!=typeof Objeto_API&&null!=Objeto_API}function Inicilizar(){var e=!0;return Ya_inicializado||(window.parent&&window.parent!=window&&(Objeto_API=Busca_API(window.parent)),null==Objeto_API&&null!=window.opener&&(Objeto_API=Busca_API(window.opener)),API_existe()?(e=Objeto_API.LMSInitialize(""),"true"==e?(Leccion_modoNavegacion="browse"==Objeto_API.LMSGetValue("cmi.core.lesson_mode"),Leccion_modoNavegacion||"not attempted"==Objeto_API.LMSGetValue("cmi.core.lesson_status")&&(e=Objeto_API.LMSSetValue("cmi.core.lesson_status","incomplete"))):Mostrar_errorAPI(Error_alInicializar)):(Mostrar_errorAPI(API_noEncontrada),e=!1)),1==Inicializar_datos&&(Nombre_alumno=Objeto_API.LMSGetValue("cmi.core.student_name"),puntaje_r=Objeto_API.LMSGetValue("cmi.core.score.raw"),estado_r=Objeto_API.LMSGetValue("cmi.suspend_data")),Tiempo_inicializado=new Date,e+""}function Finalizar(){return API_existe()&&0==Ya_finalizado&&(1==Guardar_datos&&Manejo_tiempoSesion(),Ya_finalizado="true"==Objeto_API.LMSFinish("")),Ya_finalizado+""}function Obtener_valor(e){return API_existe()?Objeto_API.LMSGetValue(e.toString()):""}function Asegurar_valor(e){return API_existe()?Objeto_API.LMSCommit(""):"false"}function Obtener_ultimoError(e){return API_existe()?Objeto_API.LMSGetLastError(""):"-1"}function Obtener_mensajeError(e){return API_existe()?Objeto_API.LMSGetErrorString(e):"No API"}function Obtener_diagnistico(e){return API_existe()?Objeto_API.LMSGetDiagnostic(e):"No API"}function Guardar_valor(e,a){var t="";return API_existe()?"cmi.core.score.raw"==e&&(t=Guardar_puntajeRaw(a)):(Mostrar_errorAPI(Error_alGuardar+"\n"+e+"\n"+a),t="false"),""==t&&(t=Objeto_API.LMSSetValue(e,a.toString()+""),"true"!=t)?t:("cmi.core.score.min"==e?(Puntaje_minimoObtenido=!0,Puntaje_minimo=a):"cmi.core.score.max"==e&&(Puntaje_maximoObtenido=!0,Puntaje_maximo=a),t)}function Guardar_puntajeRaw(e){if(isNaN(e))return"false";if(!Puntaje_minimoObtenido&&"true"!=Objeto_API.LMSSetValue("cmi.core.score.min",Puntaje_minimo+""))return"false";if(!Puntaje_maximoObtenido&&"true"!=Objeto_API.LMSSetValue("cmi.core.score.max",Puntaje_maximo+""))return"false";if("true"!=Objeto_API.LMSSetValue("cmi.core.score.raw",e))return"false";if(Puntaje_minimoObtenido=!1,Puntaje_maximoObtenido=!1,!Puntaje_defaultActivo){var a=0;a=0>=Puntaje_default_xml?parseInt(Obtener_valor("cmi.student_data.mastery_score"),10):Puntaje_default_xml,isNaN(a)||(Puntaje_default=a)}if(isNaN(Puntaje_default))return"false";var t=e>=Puntaje_default?"passed":"failed";return"true"!=Guardar_valor("cmi.core.lesson_status",t)?"false":"true"}function guardaPuntaje(e){isNaN(e)||(Guardar_valor("cmi.core.score.raw",e),Asegurar_valor())}function guardaEstado(e){isNaN(e)&&(Guardar_valor("cmi.suspend_data",e),Asegurar_valor())}function Estado_leccion(){return Obtener_valor("cmi.core.lesson_status")}function Inicilizar_datos(){var e=Array();return e.push(Obtener_valor("cmi.core.student_name")),"passed"==Estado_leccion()&&(e.push(Estado_leccion()),e.push(Obtener_valor("cmi.core.score.raw")),e.push(unescape(Obtener_valor("cmi.suspend_data")))),e}function Estado_leccionCompletado(){var e=Obtener_valor("cmi.core.lesson_status");return"browse"==Obtener_valor("cmi.core.lesson_mode")?"false":"completed"!=e&&"passed"!=e&&"failed"!=e?Guardar_valor("cmi.core.lesson_status","completed"):void 0}function Manejo_tiempoSesion(){var e=new Date,a=e.getTime()-Tiempo_inicializado.getTime();return Guardar_valor("cmi.core.session_time",MTCMIDuration(a))}function MTCMIDuration(e){var a="",t=new Date;t.setTime(e);var r="000"+Math.floor(e/36e5),o="0"+t.getMinutes(),n="0"+t.getSeconds(),i="0"+Math.round(t.getMilliseconds()/10);return a=r.substr(r.length-4)+":"+o.substr(o.length-2)+":",a+=n.substr(n.length-2)+"."+i.substr(i.length-2)}var Mostrar_Errores=!0,API_noEncontrada="API no encontrada.",API_noExiste="No se puede encontrar la API... demaciados intentos.",Error_alInicializar="API encontrada... pero falló inicialización del LMS.",Error_alGuardar="Falló intento de guardado, API no disponible.",Puntaje_minimo=0,Puntaje_maximo=100,Puntaje_default=99.9,Puntaje_defaultActivo=!1,Intentos_busquedaAPI=0,Objeto_API=null,Ya_inicializado=!1,Ya_finalizado=!1,Leccion_modoNavegacion=!1,Tiempo_inicializado=new Date,Inicializar_datos=!0,Nombre_alumno,puntaje_r,estado_r,Guardar_datos=!0,Puntaje_default_xml=0,Puntaje_minimoObtenido=!1,Puntaje_maximoObtenido=!1;